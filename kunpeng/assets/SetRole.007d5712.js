var p=(o,n,s)=>new Promise((l,u)=>{var c=t=>{try{e(s.next(t))}catch(a){u(a)}},i=t=>{try{e(s.throw(t))}catch(a){u(a)}},e=t=>t.done?l(t.value):Promise.resolve(t.value).then(c,i);e((s=s.apply(o,n)).next())});import{h as d,s as v}from"./index.ea60a1e6.js";import{d as y,e as R,o as w,X as S,R as r,Q as _,u as b,a as B,be as x,aQ as F,af as T,ad as U,ae as k,av as C}from"./vendor.192340e4.js";function E({size:o,current:n,username:s=""}){return d.request({url:"/auth/user/list",method:"GET",params:{size:o,current:n,username:s}})}function D(o,n){return d.request({url:`/auth/user/bind/${o}`,method:"POST",params:n})}const N={class:"flex justify-end"},O=x(" \u66F4\u65B0 "),V=y({props:{user:null},emits:["update:sysRoles"],setup(o,{emit:n}){const s=o,l=v(),u=R(s.user.sysRoles.map(e=>e.id)[0]);function c(e){return p(this,null,function*(){u.value=e})}function i(){return p(this,null,function*(){try{yield D(s.user.id,[u.value]),n("update:sysRoles",l.roles.filter(e=>u.value.includes(e.id))),window.$message.success("\u66F4\u65B0\u6210\u529F")}catch(e){window.$message.error("\u66F4\u65B0\u5931\u8D25")}})}return(e,t)=>{const a=F,m=T,f=U,g=k,h=C;return w(),S(h,{class:"w-96",title:"\u6388\u4E88\u7528\u6237\u89D2\u8272"},{default:r(()=>[_(g,null,{default:r(()=>[_(m,{label:"\u89D2\u8272"},{default:r(()=>[_(a,{value:u.value,options:b(l).getRoleOptions,"onUpdate:value":c},null,8,["value","options"])]),_:1}),B("div",N,[_(f,{type:"success",onClick:i},{default:r(()=>[O]),_:1})])]),_:1})]),_:1})}}});var P=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:V});export{P as S,V as _,E as g};
