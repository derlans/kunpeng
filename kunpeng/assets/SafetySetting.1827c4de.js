var C=(h,t,e)=>new Promise((A,v)=>{var c=n=>{try{s(e.next(n))}catch(l){v(l)}},_=n=>{try{s(e.throw(n))}catch(l){v(l)}},s=n=>n.done?A(n.value):Promise.resolve(n.value).then(c,_);s((e=e.apply(h,t)).next())});import{v as T,u as j,x as g,y as F,t as z}from"./index.ea60a1e6.js";import{d as Q,e as y,o as r,c as R,Q as u,R as a,a as W,X as f,u as w,be as m,t as U,V as X,F as q,aU as G,aT as H,$ as I,ad as J,af as K,ae as L}from"./vendor.192340e4.js";const M={class:"mt-6 flex justify-start p-3 w-96"},O=m("\u53D1\u9001\u9A8C\u8BC1\u7801"),P=m("\u9A8C\u8BC1"),Y=m("\u53D1\u9001\u9A8C\u8BC1\u7801"),Z=m("\u9A8C\u8BC1"),te=Q({setup(h){const t=window.$message,e=y(!1),{time:A,start:v,reset:c}=T(60,()=>{e.value=!1,c()}),_=j(),s=y(2),n=y("process"),l=y("");function x(){return C(this,null,function*(){e.value=!0,v();try{yield g(_.emial),t.success("\u53D1\u9001\u6210\u529F")}catch(d){t.fail("\u53D1\u9001\u5931\u8D25"),c(),e.value=!1}})}function N(){return C(this,null,function*(){try{(yield F(_.emial,l.value))===!0?(t.success("\u9A8C\u8BC1\u6B63\u786E"),s.value=2,l.value="",c(),e.value=!1):t.fail("\u9A8C\u8BC1\u7801\u9519\u8BEF")}catch(d){t.fail("\u9A8C\u8BC1\u7801\u9519\u8BEF")}})}const B=y("");function V(){return C(this,null,function*(){e.value=!0,v();try{yield g(B.value),t.success("\u53D1\u9001\u6210\u529F")}catch(d){t.fail("\u53D1\u9001\u5931\u8D25"),c(),e.value=!1}})}function S(){return C(this,null,function*(){try{(yield F(B.value,l.value))===!0?(yield z({email:B.value}),t.success("\u9A8C\u8BC1\u6B63\u786E"),s.value=3,l.value="",c(),e.value=!1):t.fail("\u9A8C\u8BC1\u7801\u9519\u8BEF")}catch(d){t.fail("\u9A8C\u8BC1\u7801\u9519\u8BEF")}})}return(d,o)=>{const b=G,$=H,k=I,p=J,E=K,D=L;return r(),R(q,null,[u($,{size:"small",current:s.value,status:n.value},{default:a(()=>[u(b,{title:"\u9A8C\u8BC1",description:"\u9A8C\u8BC1\u73B0\u6709\u7684\u90AE\u7BB1"}),u(b,{title:"\u7ED1\u5B9A",description:"\u7ED1\u5B9A\u65B0\u7684\u90AE\u7BB1"}),u(b,{title:"\u5B8C\u6210",description:"\u606D\u559C\u4F60\u5B8C\u6210\u90AE\u7BB1\u66F4\u6362"})]),_:1},8,["current","status"]),W("div",M,[s.value===1?(r(),f(D,{key:0,"label-placement":"left","label-width":50},{default:a(()=>[u(E,{label:"\u90AE\u7BB1",path:"email"},{default:a(()=>[u(k,{value:w(_).emial,"onUpdate:value":o[0]||(o[0]=i=>w(_).emial=i),readonly:""},null,8,["value"]),e.value?(r(),f(p,{key:1,type:"info",class:"ml-3",disabled:""},{default:a(()=>[m(U(w(A)),1)]),_:1})):(r(),f(p,{key:0,type:"info",class:"ml-3",onClick:x},{default:a(()=>[O]),_:1}))]),_:1}),u(E,{label:"\u9A8C\u8BC1\u7801",path:"code"},{default:a(()=>[u(k,{value:l.value,"onUpdate:value":o[1]||(o[1]=i=>l.value=i)},null,8,["value"]),u(p,{type:"success",class:"ml-3",onClick:N},{default:a(()=>[P]),_:1})]),_:1})]),_:1})):s.value===2?(r(),f(D,{key:1,"label-placement":"left","label-width":50},{default:a(()=>[u(E,{label:"\u65B0\u90AE\u7BB1",path:"email"},{default:a(()=>[u(k,{value:B.value,"onUpdate:value":o[2]||(o[2]=i=>B.value=i)},null,8,["value"]),e.value?(r(),f(p,{key:1,type:"info",class:"ml-3",disabled:""},{default:a(()=>[m(U(w(A)),1)]),_:1})):(r(),f(p,{key:0,type:"info",class:"ml-3",onClick:V},{default:a(()=>[Y]),_:1}))]),_:1}),u(E,{label:"\u9A8C\u8BC1\u7801",path:"code"},{default:a(()=>[u(k,{value:l.value,"onUpdate:value":o[3]||(o[3]=i=>l.value=i)},null,8,["value"]),u(p,{type:"success",class:"ml-3",onClick:S},{default:a(()=>[Z]),_:1})]),_:1})]),_:1})):X("",!0)])],64)}}});export{te as default};
